<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/iron-flex-layout/iron-flex-layout.html">
<link rel="import" href="../../bower_components/iron-flex-layout/iron-flex-layout-classes.html">

<link rel="import" href="../../bower_components/paper-icon-button/paper-icon-button.html">
<link rel="import" href="../../bower_components/iron-icons/iron-icons.html">
<link rel="import" href="../../bower_components/iron-iconset-svg/iron-iconset-svg.html">
<link rel="import" href="../../bower_components/iron-icons/communication-icons.html">
<link rel="import" href="../../bower_components/iron-icons/editor-icons.html">
<link rel="import" href="../../bower_components/iron-ajax/iron-ajax.html">
<link rel="import" href="../../bower_components/paper-styles/color.html">
<link rel="import" href="../../bower_components/paper-styles/typography.html">
<!--link rel="import" href="../../bower_components/paper-item/paper-item.html">
<link rel="import" href="../../bower_components/paper-item/paper-icon-item.html"-->

<link rel="import" href="../../bower_components/paper-dialog/paper-dialog.html">
<link rel="import" href="../../bower_components/paper-dialog-behavior/paper-dialog-behavior.html">
<link rel="import" href="../../bower_components/paper-dialog-behavior/paper-dialog-shared-styles.html">
<link rel="import" href="../../bower_components/paper-button/paper-button.html">
<link rel="import" href="../../bower_components/paper-input/paper-input.html">
<link rel="import" href="../../bower_components/paper-card/paper-card.html">
<link rel="import" href="../../bower_components/paper-fab/paper-fab.html">




<link rel="import" href="../../bower_components/app-layout/app-drawer-layout/app-drawer-layout.html">
<link rel="import" href="../../bower_components/app-layout/app-drawer/app-drawer.html">
<link rel="import" href="../../bower_components/app-layout/app-scroll-effects/app-scroll-effects.html">
<link rel="import" href="../../bower_components/app-layout/app-header/app-header.html">
<link rel="import" href="../../bower_components/app-layout/app-header-layout/app-header-layout.html">
<link rel="import" href="../../bower_components/app-layout/app-toolbar/app-toolbar.html">
<link rel="import" href="../../bower_components/app-layout/demo/sample-content.html">

<link rel="import" href="../../bower_components/neon-animation/web-animations.html">
<link rel="import" href="../../bower_components/neon-animation/animations/scale-up-animation.html">
<link rel="import" href="../../bower_components/neon-animation/animations/fade-out-animation.html">

<link rel="import" href="../../bower_components/paper-autocomplete/paper-autocomplete.html">
<link rel="import" href="../../bower_components/paper-dropdown-menu/paper-dropdown-menu.html">
<link rel="import" href="../../bower_components/paper-listbox/paper-listbox.html">
<link rel="import" href="../../bower_components/paper-dialog-scrollable/paper-dialog-scrollable.html">
<link rel="import" href="../../bower_components/iron-demo-helpers/demo-pages-shared-styles.html">

<link rel="import" href="../../bower_components/app-route/app-route.html">
<link rel="import" href="../../bower_components/app-route/app-location.html">

<link rel="import" href="../../bower_components/iron-location/iron-location.html">
<link rel="import" href="../../bower_components/iron-pages/iron-pages.html">









<link rel="import" href="../../bower_components/paper-menu/paper-menu.html">








<dom-module id="layout-listchatedo">
    <template>
        <custom-style>
            <style include="iron-flex iron-flex-alignment"></style>
            <style is="custom-style">
                .flex-center-justified {
                    @apply --layout-horizontal;
                    @apply --layout-center-justified;
                }

                #notes {
                    @apply --layout-vertical;
                    @apply --layout-wrap;
                    margin-bottom: 6%;
                    word-break: break-all;
                }
                #notes > paper-card {
                    font-family: "MontserratRegular";
                    box-sizing: border-box;
                    /*max-width: 184px;*/
                    margin: 3px;
                    flex: 0 0 auto;
                }

                paper-card {
                    color: azure;
                    background-color: rgb(125, 120, 143);
                    --paper-card-header-color: azure;
                    --paper-card-header-text:{
                        font-size: 1em;
                    }
                }
                div.card-actions a{
                    color:rgb(240, 255, 255);
                }
                div.card-actions paper-icon-button:hover{
                    color: rgb(255, 247, 0);
                    transition: color 2s;
                }
                .cyan{
                    --paper-card-header-text:1em;
                }
                div.colcontent1{
                    width: 50%; padding: 2%;
                }
                a:link
                {
                    text-decoration:none;
                }
                .iconChat{
                    color: rgba(255, 247, 0, 0.58);
                }
                @media (max-width: 768px) {
                    /* For mobile phones: */
                    div.colcontent1{
                        width: 100%; padding: 2%;
                    }
                }
            </style>
        </custom-style>
        [[_routeTypeChat(datacurrentroute.subpage,dataparams.type)]]

        <iron-ajax
                id="requestUserListChat"
                method="POST"
                body="{{user}}"
                url="../adminchat/view/listuserchat.php"
                content-type="application/json"
                headers="{{headers}}"
                on-response="handleResponse"
                last-response="{{ajaxResponseList}}">
        </iron-ajax>







                  <div class="container flex-center-justified">
                      <div class="colcontent1">
                          <template is="dom-repeat" items="{{ajaxResponseList.datosapi}}" as="item">
                          <div id="notes">
                              <paper-card heading="{{item.nameUser}}" class="cyan">
                                  <div class="card-actions">
                                      <a href="chat?id={{item.id_list_chats}}">
                                          <paper-icon-button class="iconChat" icon="question-answer" on-tap="_loadRoute" data-id="123" data-page="leccion-1">
                                          </paper-icon-button>
                                      </a>
                                      <span>{{item.start_date}}</span><br>
                                      <paper-icon-button icon="mail" on-tap="_loadRoute" data-id="123" data-page="leccion-1">
                                      </paper-icon-button>
                                      <span>{{item.emailUser}}</span>
                                  </div>
                              </paper-card>
                          </div>
                          </template>
                      </div>
                  </div>
    </template>
    <script>
            Polymer({
                is: 'layout-listchatedo',
                properties: {
                    user:{
                        type:Object,
                        value:function() {
                            return {
                                t: "none",
                                appid: "35f13ff714ce50c37baccead2e5a90c5="
                            }
                        },
                        notify:true
                    },
                    datacurrentroute:{
                        type: Object,
                        notify:true
                    },

                    headers: {
                        type: Object,
                        computed: 'getHeaders(customHeader)'
                    },
                    customHeader: {
                        value: '35f13ff714ce50c37baccead2e5a90c5='
                    },
                    cachecontrol: {
                        value: 'max-age=0'
                    }

                },
                ready: function() {
                    //console.log("load_elemento");
                },
                _routeTypeChat: function(nameroute,typechat) {
                    if(nameroute=="search"){
                        this.user.t=typechat;
                        this.$.requestUserListChat.generateRequest();
                    }
                    if(nameroute=="closed"){
                        this.user.t=typechat;
                        this.$.requestUserListChat.generateRequest();
                    }
                },
                handleResponse:function(request){
                    var dataListUserChatActive=request.detail.response;
                    console.log(dataListUserChatActive);
                },
                getHeaders: function(customHeader) {
                    return {'Authorization': this.customHeader,'cache-control': this.cachecontrol};
                }
            });
    </script>
</dom-module>
